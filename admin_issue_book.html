<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>librosphere</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abel&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abhaya+Libre&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aclonica&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,400,500">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway+Dots">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400&amp;display=swap">
    <link rel="stylesheet" href="assets/css/swiper-icons.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/About-US.css">
    <link rel="stylesheet" href="assets/css/Account-setting-or-edit-profile.css">
    <link rel="stylesheet" href="assets/css/best-carousel-slide.css">
    <link rel="stylesheet" href="assets/css/card-3-column-animation-shadows-images.css">
    <link rel="stylesheet" href="assets/css/Contact-Us.css">
    <link rel="stylesheet" href="assets/css/dh-row-text-image-right-responsive.css">
    <link rel="stylesheet" href="assets/css/dh-row-titile-text-image-right-1.css">
    <link rel="stylesheet" href="assets/css/Features-Image-images.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/css/theme.bootstrap_4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="assets/css/Latest-Blog.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Basic-icons.css">
    <link rel="stylesheet" href="assets/css/login-form-styles.css">
    <link rel="stylesheet" href="assets/css/login-form.css">
    <link rel="stylesheet" href="assets/css/Ludens---1-Index-Table-with-Search--Sort-Filters-v20.css">
    <link rel="stylesheet" href="assets/css/Ludens-Users---2-Register.css">
    <link rel="stylesheet" href="assets/css/Pretty-Registration-Form-.css">
    <link rel="stylesheet" href="assets/css/Pretty-Search-Form-.css">
    <link rel="stylesheet" href="assets/css/Pretty-Table-tables.css">
    <link rel="stylesheet" href="assets/css/Pretty-Table.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form-styles.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form.css">
    <link rel="stylesheet" href="assets/css/Register-form.css">
    <link rel="stylesheet" href="assets/css/Search-Input-Responsive-with-Icon.css">
    <link rel="stylesheet" href="assets/css/Search-Input-responsive.css">
    <link rel="stylesheet" href="assets/css/Sign-Up-Form---Gabriela-Carvalho.css">
    <link rel="stylesheet" href="assets/css/Swiper-Card-Blog.css">
    <link rel="stylesheet" href="assets/css/Table-With-Search-search-table.css">
    <link rel="stylesheet" href="assets/css/Table-With-Search.css">
    <link rel="stylesheet" href="assets/css/Tamplate-SB-Admin-on-BSS.css">
    <link rel="stylesheet" href="assets/css/User-Payment-Overview-Rows---Panel-Container.css">

    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-database.js"></script>
</head>

<body>
    <div>
        <nav class="navbar navbar-expand bg-dark sb-topnav navbar-dark">
            <div class="container-fluid"><button class="btn btn-link btn-sm link-light order-md-1" id="sidebarToggle"
                    type="button"></button><a class="navbar-brand" href="#">&nbsp;LibroSphere</a>
                <form class="d-none d-md-inline-block order-2 ms-auto me-0 me-md-3 my-2 my-md-0">
                    <div class="input-group"></div>
                </form>
                <ul class="navbar-nav d-flex order-3 ms-auto ms-md-0">
                    <li class="nav-item d-flex d-sm-flex d-md-none justify-content-center align-items-center justify-content-sm-center"
                        style="margin-right: 7px;">
                        <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle" aria-expanded="false"
                                data-bs-toggle="dropdown" href="#"><i class="fa fa-search"
                                    style="font-size: 25px;margin-right: 0px;"></i> </a>
                            <div class="dropdown-menu"><a class="dropdown-item" href="#">First Item</a><a
                                    class="dropdown-item" href="#">Second Item</a><a class="dropdown-item"
                                    href="#">Third Item</a></div>
                        </div>
                    </li>
                    <li class="nav-item d-flex justify-content-center align-items-center">
                        <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle active" aria-expanded="false"
                                data-bs-toggle="dropdown" href="#">&nbsp;</a>
                            <div class="dropdown-menu dropdown-menu-end text-start shadow" style="margin-top: 16px;"><a
                                    class="dropdown-item" href="#">Pengaturan</a><a class="dropdown-item" href="#">Log
                                    Aktivitas</a><a class="dropdown-item" href="#">Pelanggaran</a>
                                <div class="dropdown-divider"></div><a class="dropdown-item" href="#">Keluar</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <div id="sidenavAccordion" class="sb-sidenav accordion sb-sidenav-dark">
                    <div class="sb-sidenav-menu">
                        <div class="nav">
                            <div>
                                <a class="nav-link active" href="Admin_issue_book.html">Issue
                                    Book</a>
                            </div>
                            <div>
                                <a class="nav-link active" href="admin_issued_books.html">Issued Book</a>
                            </div>
                            <div>
                                <a class="nav-link active" id="logoutButton" onclick="LogOut()"><span>Logout</span></a>
                            </div>
                        </div>

                    </div>


                    <div class="sb-sidenav-menu">
                        <div class="nav"></div>
                    </div>
                    <div class="sb-sidenav-footer">
                        <div class="small"><span>Logged as : Maryam</span></div>
                    </div>
                </div>
            </div>
            <div id="layoutSidenav_content">
                <main></main>
                <div class="row register-form" style="margin-left: 1px;">
                    <div class="col-md-8 col-lg-9 offset-md-2">
                        <form class="custom-form">
                            <h1>Issue Book</h1>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="name-input-field">Name:</label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="userName"
                                        type="text" /></div>
                            </div>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="email-input-field">id number: </label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="idNumber"
                                        type="text"></div>
                            </div>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="pawssword-input-field">Name Of The Book: </label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="bookName"
                                        type="text"></div>
                            </div>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="repeat-pawssword-input-field">Serial number: </label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="serialNumber"
                                        type="text"></div>
                            </div>

                            <!-- <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="repeat-pawssword-input-field">Issue Date</label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" type="date"></div>
                            </div> -->
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="repeat-pawssword-input-field">Return Date: </label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="returnDate"
                                        type="date"></div>
                            </div>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label"
                                        for="repeat-pawssword-input-field">Status: </label></div>
                                <div class="col-sm-6 input-column"><input class="form-control" id="status" type="text">
                                </div>
                            </div>
                            <p></p><button class="btn btn-light submit-button" type="button"
                                onclick="issueFunction()">Issue</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.flash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>
    <script src="assets/js/DataTable---Fully-BSS-Editable-style.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/jquery.tablesorter.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-filter.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-storage.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://geodata.solutions/includes/countrystate.js"></script>
    <script
        src="assets/js/Ludens---1-Index-Table-with-Search--Sort-Filters-v20-Ludens---1-Index-Table-with-Search--Sort-Filters.js"></script>
    <script
        src="assets/js/Ludens---1-Index-Table-with-Search--Sort-Filters-v20-Ludens---Material-UI-Actions.js"></script>
    <script src="assets/js/Profile-Edit-Form-profile.js"></script>
    <script src="assets/js/Swiper-Card-Blog-swiper-bundle.min.js"></script>
    <script src="assets/js/Swiper-Card-Blog-swiper.js"></script>
    <script src="assets/js/Table-With-Search-search-table.js"></script>
    <script src="assets/js/theme.js"></script>


    <script>
        // Import the functions you need from the SDKs you need

        const firebaseConfig = {
            apiKey: "AIzaSyAOwGBvYe1w_vFFVOeF04Uhhot7-CX4Hk8",
            authDomain: "librosphere-9b371.firebaseapp.com",
            projectId: "librosphere-9b371",
            storageBucket: "librosphere-9b371.appspot.com",
            databaseURL: "librosphere-9b371-default-rtdb.firebaseio.com",
            messagingSenderId: "103165721536",
            appId: "1:103165721536:web:e02a086e341b6738152625",
            measurementId: "G-3SYC6MFZE7"
        };

        firebase.initializeApp(firebaseConfig);
        console.log("Error:  " + firebase.authDomain);


        var logoutBtn = document.getElementById("logoutButton");
        // Check the user's login status
        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                // User is signed in
                logoutBtn.style.display = "block";
                console.log("user: " + user.uid);




            } else {
                // User is not signed in
                logoutBtn.style.display = "none";
                console.log("No user is signed in");
            }
        });


        function LogOut() {
            firebase.auth().signOut().then(function () {
                console.log('Signed Out');
                window.location.href = "index.html";
            }, function (error) {
                console.error('Sign Out Error', error);
            });
        }





        // Reference to your Firebase Realtime Database
        var database = firebase.database();
        // var tableRef = database.ref('issuedBooks'); // Assuming you have a 'issuedBooks' node in your database



        // bookNameIN = bookNameIN.trim();

        function issueFunction() {

            var userNameIN = document.getElementById("userName").value;
            var idUIN = document.getElementById("idNumber").value;
            var bookNameIN = document.getElementById("bookName").value;
            var serialIN = document.getElementById("serialNumber").value;
            var returnDateIN = document.getElementById("returnDate").value;
            var statusIN = document.getElementById("status").value;
            console.log(bookName);
            if (((userNameIN != "") & (idUIN != "") & (bookNameIN != "") & (serialIN != "") & (returnDateIN != "") & (statusIN != ""))) {
            setTimeout(function () {
                firebase.database().ref("issuedBooks/" + bookNameIN).set({
                    usreFullName: userNameIN,
                    userID: idUIN,
                    bookName: bookNameIN,
                    serialNumber: serialIN,
                    returnDate: returnDateIN,
                    status: statusIN
                });

                alert("Book Details Updated!");
            }, 2000);

            } else {
                alert("Something missing, check all field then try again!");
            }
        }






    </script>

</body>

</html>